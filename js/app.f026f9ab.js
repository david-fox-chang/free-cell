(function(t){function e(e){for(var o,c,s=e[0],i=e[1],l=e[2],f=0,p=[];f<s.length;f++)c=s[f],r[c]&&p.push(r[c][0]),r[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/free-cell/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0743":function(t,e,n){"use strict";var o=n("bc4c"),r=n.n(o);r.a},"1ae4":function(t,e,n){t.exports=n.p+"img/logo.2a2252c6.svg"},"1e6d":function(t,e,n){t.exports=n.p+"img/img_loading-icon.101e3167.svg"},"2bfc":function(t,e,n){"use strict";var o=n("ac45"),r=n.n(o);r.a},"4cfe":function(t,e,n){"use strict";var o=n("7704"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view",{attrs:{id:"app"}})},a=[],c=(n("7c55"),n("2877")),s={},i=Object(c["a"])(s,r,a,!1,null,null,null),l=i.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"entry-page"},[o("img",{attrs:{alt:"free cell logo",src:n("1ae4")}}),o("router-link",{attrs:{to:{name:"week-2:load-process"}}},[t._v("load")])],1)},p=[],d={},h=Object(c["a"])(d,f,p,!1,null,null,null),g=h.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cards-playground tableaux"},[t._l(t.meta.foundation,function(e){return n("foundation-stack",{key:"foundation"+e,staticClass:"foundation stack",attrs:{list:t.$data["foundation"+e]}})}),t._l(t.meta.opencell,function(e){return n("opencell-stack",{key:"opencell"+e,staticClass:"opencell stack",attrs:{list:t.$data["opencell"+e]}})}),t._l(t.meta.cascade,function(e){return n("cascade-stack",{key:"cascade"+e,staticClass:"cascade stack",attrs:{list:t.$data["cascade"+e]}})})],2)},v=[],b=(n("8e6e"),n("456d"),n("75fc")),k=(n("ac6a"),n("bd86")),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sortable-stack",{staticClass:"cascade-wrapper",attrs:{"sort-configs":t.sortConfigs,list:t.list},on:{"card-press":t.chainCheck,"card-release":t.chainEnd,start:function(e){t.drag=!0},end:function(e){t.drag=!1}}})},O=[],_=n("768b"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:t.ref,staticClass:"stack-wrapper"},t._l(t.list,function(e){return n("poker-card",{key:""+e.poker+Math.random().toString().substr(-6,6),attrs:{poker:e},on:{"card-press":function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];return t.$emit("card-press",e)},"card-release":function(e){t.$emit("card-release",e)}}})}),1)},C=[],w=(n("6b54"),n("aa47")),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:["poker-"+t.poker.poker,{"extra-soldier":t.poker.chainSelect}],attrs:{draggable:t.poker.chainSelect,"aria-dropeffect":t.poker.chainSelect,"aria-grabbed":t.poker.chainSelect,"data-card":""+t.poker},on:{mousedown:t.mousedown,mouseup:t.mouseup,mouseout:t.mouseup}})},x=[],E={props:{poker:{type:Object,required:!0}},methods:{mousedown:function(t){this.$emit("card-press",this.poker,t)},mouseup:function(){this.$emit("card-release")}}},P=E,$=(n("4cfe"),Object(c["a"])(P,S,x,!1,null,"3bc1bc91",null)),A=$.exports;w["b"].mount(new w["a"]);var D={components:{"poker-card":A},props:{list:{type:Array,required:!0},sortConfigs:{type:Object,required:!0}},data:function(){return{ref:"stack".concat(Math.random().toString().substr(-6,6)),logPrint:!0,sortable:void 0}},mounted:function(){var t=Object.assign({put:!0},this.sortConfigs.group||{},{name:"cards",pull:!0});this.sortable=new w["b"](this.$refs[this.ref],Object.assign({setData:this.setData,onChoose:this.onChoose,onStart:this.onStart,onEnd:this.onEnd,onAdd:this.onAdd,onUpdate:this.onUpdate,onSort:this.onSort,onRemove:this.onRemove},{removeCloneOnHide:!0,animation:150,sort:!1,disabled:!1,swapThreshold:0,ghostClass:"ghost-soldier",dragoverBubble:!0,dragClass:"soldier-dragged",draggable:".extra-soldier, :last-child",chosenClass:"soldier-standby",dataIdAttr:"data-card"},{onSelect:this.onSelect,selectedClass:"extra-soldier"},this.sortConfigs,{group:t}))},methods:{onChoose:function(t){console.log("onChoose",t)},onSelect:function(t){console.log("onSelect",t)},onUnchoose:function(t){console.log("onUnchoose",t)},onStart:function(t){console.log("onStart",t),this.$emit("start")},onEnd:function(t){console.log("onEnd",t),this.$emit("end")},onUpdate:function(t){console.log("onUpdate",t)},onAdd:function(t){console.log("onAdd",t)},onSort:function(t){console.log("onSort",t)},onRemove:function(t){console.log("onRemove",t)},onFilter:function(t){console.log("onFilter",t)},onMove:function(t,e){console.log("onMove",t,e)},onClone:function(t){console.log("onClone",t)},onChange:function(t){console.log("onChange",t)},gotevent:function(){if(console.log("gotevent"),this.logPrint){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=console).log.apply(t,[n[0].type].concat(n))}},finalPipe:function(){console.log("finalPipe"),this.$emit("card-press","finalPipe")}},beforeDestroy:function(){void 0!==this.sortable&&this.sortable.destroy()}},M=D,q=(n("0743"),Object(c["a"])(M,j,C,!1,null,"a43643ec",null)),I=q.exports,U=(n("7f7f"),n("f576"),n("2ef0")),T=n("d225"),R=n("b0b4"),J=function(){function t(e){Object(T["a"])(this,t),Object.assign(this,e)}return Object(R["a"])(t,[{key:"toString",value:function(){return JSON.stringify(this)}}]),t}(),F=(n("6762"),n("2fdb"),function(t){return t.map(function(t){var e=t.poker;return e})}),L=function(t,e){var n=F(t);return n.lastIndexOf(e)},N=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?t.slice(e).reverse():t.slice(e)},B={s:"hd",c:"hd",h:"sc",d:"sc"},H=function(t,e){return B[t].includes(e)},z=function(t,e){return e===t+1},G=function(t,e){return console.log("".concat(t,", ").concat(e)),!!z(t.num,e.num)&&H(t.suit,e.suit)},K={getPokerNames:F,findPokerIndex:L,getPokerChainList:N,isChainPair:G},Q={random:U["shuffle"],none:function(t){return t}},V=Object(b["a"])("chsd"),W=Object(U["range"])(13,0).map(function(t){return V.map(function(e){return new J({num:t,suit:e,poker:"".concat(e).concat(t.toString().padStart(2,"0")),chainSelect:!1})})}).flat(),X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"random";return Q[t](W)},Y=function(t,e){return Object(U["range"])(1,e+1).map(function(e){return"".concat(t).concat(e)})},Z=function(t,e,n){var o=n.length,r=Object(U["range"])(e).map(function(t,n){return Object(U["range"])(n,o,e)}),a=Y(t,e);return{keys:a,stacks:Object.assign.apply(Object,[{}].concat(Object(b["a"])(a.map(function(t,e){return Object(k["a"])({},t,r[e].map(function(t){return n[t]}))}))))}},tt=Z("cascade",8,X()),et={cascade:8,opencell:4,foundation:4},nt=[{name:"cascade",num:et.cascade},{name:"opencell",num:et.opencell},{name:"foundation",num:et.foundation}],ot=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;return e.reduce(function(e,n){var o=n.name,r=n.num;return Object.assign.apply(Object,[e].concat(Object(b["a"])(t(o,r))))},{})},rt=ot(function(t,e){return Object(U["range"])(1,e+1).map(function(e){return Object(k["a"])({},"".concat(t).concat(e),[])})}),at=ot(function(t,e){return Object(U["range"])(1,e+1).map(function(e){return Object(k["a"])({},"".concat(t).concat(e),function(n){console.log("".concat(t).concat(e),n)})})}),ct=(new J({num:1,suit:"s",poker:"s01",chainSelect:!1}),new J({num:2,suit:"h",poker:"h02",chainSelect:!1}),new J({num:3,suit:"c",poker:"c03",chainSelect:!1}),new J({num:5,suit:"c",poker:"c05",chainSelect:!1}),new J({num:4,suit:"d",poker:"d04",chainSelect:!1}),new J({num:6,suit:"h",poker:"h06",chainSelect:!1}),new J({num:7,suit:"s",poker:"s07",chainSelect:!1}),{components:{"sortable-stack":I},props:{list:{type:Array,required:!0}},data:function(){return{sortConfigs:{multiDrag:!0}}},created:function(){},methods:{chainCheck:function(t){var e=Object(_["a"])(t,1),n=e[0],o=K.findPokerIndex,r=K.getPokerChainList,a=K.isChainPair,c=o(this.list,n),s=r(this.list,c);if(!(s.length<2)){var i=s.length-1,l=s.reduce(function(t,e,n,o){return!!t&&(n===i?t:a(e,o[n+1]||{num:-1}))},!0);l&&s.forEach(function(t){t.chainSelect=!0})}},chainEnd:function(){console.log("chainEnd"),this.list.forEach(function(t){t.chainSelect=!1})}}}),st=ct,it=(n("5766"),Object(c["a"])(st,y,O,!1,null,null,null)),lt=it.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sortable-stack",{staticClass:"foundation-wrapper",attrs:{"sort-configs":t.sortConfigs,list:t.list}})},ft=[],pt={components:{"sortable-stack":I},props:{list:{type:Array,required:!0}},data:function(){return{sortConfigs:{group:{put:!0}}}}},dt=pt,ht=(n("fba0"),Object(c["a"])(dt,ut,ft,!1,null,null,null)),gt=ht.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sortable-stack",{staticClass:"opencell-wrapper",attrs:{"sort-configs":t.sortConfigs,list:t.list}})},vt=[],bt={components:{"sortable-stack":I},props:{list:{type:Array,required:!0}},data:function(){return{sortConfigs:{group:{put:!0},swapThreshold:.5}}}},kt=bt,yt=(n("ca23"),Object(c["a"])(kt,mt,vt,!1,null,null,null)),Ot=yt.exports;function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(n,!0).forEach(function(e){Object(k["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ct={components:{"cascade-stack":lt,"foundation-stack":gt,"opencell-stack":Ot},data:function(){return jt({},rt,{meta:jt({},et)})},mounted:function(){this.gameInit(tt)},methods:{gameInit:function(t){var e=this,n=t.keys,o=t.stacks;n.forEach(function(t){var n;"cascade0"!==t&&(n=e[t]).push.apply(n,Object(b["a"])(o[t]))})}},watch:at},wt=Ct,St=(n("a345"),n("2bfc"),Object(c["a"])(wt,m,v,!1,null,"593949df",null)),xt=St.exports,Et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"load-process"},[t._m(0),o("img",{attrs:{src:n("1e6d"),alt:"prelude"}}),o("router-link",{attrs:{to:{name:"week-2:cards-playground"}}},[t._v("play")])],1)},Pt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"prelude"},[n("p",[n("span",[t._v("「你各位啊！還不快點跑起來！」")]),n("span",[t._v("毫不講理的咆哮在清晨中破響，")]),n("span",[t._v("天啊！紅心女王又發怒啦～")]),n("span",[t._v("可憐的白兔先生只好四處奔走，")])]),n("p",[n("span",[t._v("通知那些還在傻傻塗玫瑰的菜鳥們。")]),n("span",[t._v("不想被女王砍掉頭顱的話，")]),n("span",[t._v("快點幫忙撲克牌士兵們集合起來吧！")])])])}],$t={},At=Object(c["a"])($t,Et,Pt,!1,null,null,null),Dt=At.exports,Mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("control-pannel",{staticClass:"game-over",scopedSlots:t._u([{key:"title",fn:function(){return[o("img",{staticClass:"game-over",attrs:{src:n("630e"),alt:"game over"}})]},proxy:!0},{key:"text",fn:function(){return[o("article",{staticClass:"text"},[o("span",[t._v("看來你的一番努力")]),o("span",[t._v("終究是無法")]),o("span",[t._v("讓他們喝到下午茶囉～")])])]},proxy:!0}])})},qt=[],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-pannel"},[t._t("title"),t._t("text"),t._m(0)],2)},Ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-buttons"},[n("span",{staticClass:"control-button"},[t._v("重新開始")]),n("span",{staticClass:"control-button"},[t._v("開新一局")])])}],Tt=(n("66c7"),{}),Rt=Object(c["a"])(Tt,It,Ut,!1,null,"553fc44a",null),Jt=Rt.exports,Ft={components:{"control-pannel":Jt}},Lt=Ft,Nt=(n("991a"),Object(c["a"])(Lt,Mt,qt,!1,null,"3b0632c9",null)),Bt=Nt.exports,Ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("control-pannel",{staticClass:"game-pass",scopedSlots:t._u([{key:"title",fn:function(){return[o("img",{staticClass:"game-pass",attrs:{src:n("af68"),alt:"game pass"}})]},proxy:!0},{key:"text",fn:function(){return[o("article",{staticClass:"text"},[o("span",[t._v("你完成一件偉大的成就！")]),o("span",[t._v("看來今天又是不思議之國")]),o("span",[t._v("美好的一天呢～")])])]},proxy:!0}])})},zt=[],Gt={components:{"control-pannel":Jt}},Kt=Gt,Qt=(n("6f4e"),Object(c["a"])(Kt,Ht,zt,!1,null,"67a065da",null)),Vt=Qt.exports;o["a"].use(u["a"]);var Wt=new u["a"]({mode:"history",base:"/free-cell/",routes:[{path:"/",name:"entry-page",component:g},{path:"/play",component:xt,children:[{path:"",name:"week-2:cards-playground"},{path:"loading",name:"week-2:load-process",components:{stage:Dt}},{path:"over",name:"week-2:game-over",components:{stage:Bt}},{path:"pass",name:"week-2:game-pass",components:{stage:Vt}}]}]}),Xt=n("2f62");o["a"].use(Xt["a"]);var Yt=new Xt["a"].Store({namespaced:!1,state:{},getters:{},mutations:{},actions:{}});o["a"].config.productionTip=!1,new o["a"]({router:Wt,store:Yt,render:function(t){return t(l)}}).$mount("#app")},5766:function(t,e,n){"use strict";var o=n("596a"),r=n.n(o);r.a},"596a":function(t,e,n){},"5c48":function(t,e,n){},"630e":function(t,e,n){t.exports=n.p+"img/img-gameover-tittle.2da8f64b.svg"},"635f":function(t,e,n){},"66c7":function(t,e,n){"use strict";var o=n("f39e"),r=n.n(o);r.a},"6f4e":function(t,e,n){"use strict";var o=n("ae50"),r=n.n(o);r.a},7704:function(t,e,n){},"7c55":function(t,e,n){"use strict";var o=n("5c48"),r=n.n(o);r.a},"81e5":function(t,e,n){},"991a":function(t,e,n){"use strict";var o=n("635f"),r=n.n(o);r.a},a345:function(t,e,n){"use strict";var o=n("e019"),r=n.n(o);r.a},ac45:function(t,e,n){},ae50:function(t,e,n){},af68:function(t,e,n){t.exports=n.p+"img/img-win-tittle.92afcf0f.svg"},bc4c:function(t,e,n){},ca23:function(t,e,n){"use strict";var o=n("81e5"),r=n.n(o);r.a},e019:function(t,e,n){},f39e:function(t,e,n){},f806:function(t,e,n){},fba0:function(t,e,n){"use strict";var o=n("f806"),r=n.n(o);r.a}});